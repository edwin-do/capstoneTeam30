\documentclass{article}

\usepackage{booktabs}
\usepackage{longtable}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{pdflscape}
\usepackage{multirow}
\usepackage[table]{xcolor}
\usepackage{array,ragged2e}
\newcolumntype{P}[1]{>{\RaggedRight\arraybackslash}p{#1}}

\hypersetup{
    colorlinks=true,       % false: boxed links; true: colored links
    linkcolor=red,          % color of internal links (change box color with linkbordercolor)
    citecolor=green,        % color of links to bibliography
    filecolor=magenta,      % color of file links
    urlcolor=cyan           % color of external links
}

\title{Hazard Analysis\\\progname}

\author{\authname}

\date{}

\input{../Comments}
\input{../Common}

\begin{document}

\maketitle

~\newpage

\pagenumbering{roman}

\begin{table}[hp]
\caption{Revision History} \label{TblRevisionHistory}
\begin{tabularx}{\textwidth}{llX}
\toprule
\textbf{Date} & \textbf{Developer(s)} & \textbf{Change}\\
\midrule
Oct 13, 2022 & Abdul Nour Seddiki & Integrated the Template + Added System Boundaries and Components\\
Oct 14, 2022 & Edwin Do & Add introduction, scope and purpose of HA \\
Oct 19, 2022 & Joseph Braun & Added Hardware and Software Requirements \\
Oct 19, 2022 & Joseph Braun & Added FMEA Table\\
Oct 19, 2022 & Edwin Do & Add roadmap \\
Oct 19, 2022 & Timothy Chen & Critical Assumptions \\
Apr 2, 2023 & Abdul Nour Seddiki & Fixed spelling \& added List of Tables\\
Apr 2, 2023 & Edwin Do & Added more details to Critical Assumptions\\

... & ... & ...\\
\bottomrule
\end{tabularx}
\end{table}

~\newpage

\tableofcontents
\listoftables

~\newpage

\pagenumbering{arabic}

% \wss{You are free to modify this template.}

\section{Introduction}
This document is the hazard analysis for Team 30 (ReSprint) Capstone project. 
This project collaborates with the Department of Materials Engineering to measure the microstructure changes of samples during thermal treatment.\\

\noindent For this document, a hazard will be defined as 
a scenario where the conditions of a system and environment constitute the potential of harm to someone or something.

\section{Scope and Purpose of Hazard Analysis}
The purpose of this hazard analysis is to document any potential unsafe behaviour in this project. 
This includes risks in this project that can arise from using either the software or hardware components.
For each hazard identified, this document will outline one or more methods to help mitigate the hazard.\\

\noindent The scope will be limited to identifying the possible hazards from the system's components, methods of mitigation, 
potential causes, and any resulting security or safety requirements.

\section{System Boundaries and Components}

\noindent This hazard analysis is conducted on the system that consists of the following components:

\begin{enumerate}
  \item Thermally treated samples
  \item The current source
  \item A temperature sensor
  \item The nanovoltmeter
  \item Interfaces between above devices and control computer
  \item The control computer
  \item The software application that will be installed on the control computer
\end{enumerate}

\noindent These components comprise the system in question. And they each are also considered the boundaries for this system. Some of the components mentioned are not controllable by the ReSprint team, such as the thermally treated samples and all of the measurement devices and hardware including the current source, the temperature sensor, the nanovoltmeter, the communication interfaces, and the control computer. Therefore, the only component controllable by the ReSprint team is the software application and its sub-systems.

\section{Critical Assumptions}

\noindent The following is a list of assumptions to protect ourselves during the development of ReSprint from unforeseen hazards:

\begin{itemize}
  \item Thermally treated samples will be contained in a safe area away from the control computer and operator to avoid unnecessary noise in the data. 
  \item Current source device will be used as intended and will not be misused by the operator, avoiding potential harm and injury caused by the current source.
  \item Wires will not come loose during operation by the operator to prevent inaccurate data or failure to start experiment.
  \item Data collected from the samples will be saved correctly on the control computer to prevent the possibility of losing the captured data from the experiment.
  \item Plugs and wires are attached correctly to the devices and control computer to ensure that the experiment can be conducted correctly.
\end{itemize}


\section{Failure Mode and Effect Analysis}
The next two pages contain the Failure Mode and Effect Analysis (FMEA) Table.

\begin{landscape}
\begin{table}[h]
  \centering
  \caption{FMEA Table}
  \label{my-label}
  \begin{tabular}{|P{20mm}|P{30mm}|P{30mm}|P{30mm}|P{35mm}|P{20mm}|P{10mm}|}
    \rowcolor{gray!30}
    \hline
    \textbf{Component} & \textbf{Failure Mode} & \textbf{Effects of Failure} & \textbf{Causes of Failure} & \textbf{Recommended Action} & \textbf{Req.} & \textbf{Ref.}      \\ \hline
    Current Source
    & Current source does not provide current 
    & Nanovoltmeter cannot measure the voltage across the sample
    & a. Setup error \newline
      b. Hardware failure
    & a. Troubleshoot current source setup \& check the manual \newline
      b. Replace the current source
    & a. HWR1 \newline
      b. HWR2
    & H1-1      \\ \hline
    Nanovoltmeter
    & Nanovoltmeter does not read voltage across the sample
    & Voltage data cannot be communicated to the App
    & a. Setup error \newline
      b. Hardware failure
    & a. Troubleshoot nanovoltmeter setup \& check the manual \newline
      b. Replace nanovoltmeter
    & a. HWR1 \newline
      b. HWR2
    & H1-2      \\ \hline
    Temperature Sensor
    & Temperature sensor does not read the temperature of the sample
    & Temperature data cannot be communicated to the App
    & a. Setup error \newline
      b. Hardware failure
    & a. Troubleshoot temperature sensor setup \& check the manual \newline
      b. Replace the temperature sensor 
    & a. HWR1 \newline
      b. HWR2
    & H1-3    \\ \hline
    Serial Connection
    & App does not receive data from hardware
    & User will miss changes in the sample during a test
    & a. Setup error \newline
      b. Hardware failure
    & a. Troubleshoot serial connection \newline
      b. Replace serial connection cable
    & a. HWR1 \newline
      b. HWR2
    & H1-4      \\ \hline
    \multirow{2}{*}{Windows App}
    & App cannot be installed on the control computer
    & User cannot utilise the App
    & a. Compatibility error
    & a. App shall be designed to be compatible with the operating system on the control computer
    & a. SWR1
    & H2  \\ \cline{2-7}
    %Windows Application continued
    & App is not ergonomic for the user
    & User cannot utilise the App without causing harm
    & a. Graphics change brightness too rapidly \newline
      b. Graphics contain colours that are too bright \newline
    & a. App shall not change screen brightness unless the user chooses \newline
      b. Graphics shall be designed with dimmed or neutral colours
    & a. SFR1 \newline
      b. SFR2 \newline
    & H3 \\ \hline
  \end{tabular}
\end{table}
\end{landscape}

%Continue table on next page
\begin{landscape}
\begin{table}[h]
  \centering
  \caption{FMEA Table (Continued)}
  \label{my-label}
  \begin{tabular}{|P{20mm}|P{30mm}|P{30mm}|P{30mm}|P{35mm}|P{20mm}|P{10mm}|}
    \rowcolor{gray!30}
    \hline
    \textbf{Component} & \textbf{Failure Mode} & \textbf{Effects of Failure} & \textbf{Causes of Failure} & \textbf{Recommended Action} & \textbf{Req.} & \textbf{Ref.}      \\ \hline
    % Windows Application continued
    \multirow{2}{*}{Windows App}
    & App does not receive data
    & Resistivity of the sample cannot be calculated
    & a. Setup error \newline
      b. Hardware failure \newline
      c. Software connection error
    & a. Refer to H1 \newline
      b. Refer to H1 \newline
      c. Check that software is accessing the correct serial port
    & a. HWR1 \newline
      b. HWR2 \newline
      c. SWR2
    & H4  \\ \cline{2-7}
    %Windows Application continued
    & Calculated values are not correct
    & User receives inaccurate results
    & a. User altered measurements through interface \newline
      b. Software does not calculate values correctly
    & a. Prevent user from altering measurements received from hardware \newline
      b. Check that the formulas for calculation used by the software are correct
    & a. SCR1 \newline
      b. SWR3
    & H5  \\ \hline
    \multirow{2}{*}{User}
    & User sustains physical injuries while interacting with hardware components
    & User cannot utilise the App; Legal ramifications
    & a. User is not trained to interact with hardware components
    & a. Ensure that authorised users are properly trained to interact with hardware components safely
    & a. SFR3
    & H6  \\ \cline{2-7}
    %User continued
    & App is modified by unauthorised user
    & App no longer functions as required
    & a. Unauthorised user has gained access to App
    & a. Ensure that only authorised users are permitted to access the App
    & a. SCR2
    & H7    \\ \hline
  \end{tabular}
\end{table}
\end{landscape}



\section{Safety and Security Requirements}

\subsection*{Safety Requirements}
\begin{enumerate}
  \item[SFR1.] Graphics shall avoid changing brightness at a rapid rate to take account of users prone to seizures.\\
  Fit Criterion: There should be no repetitive changes of brightness that occur at a rate of more than 1 change per second.
  \item[SFR2.] Colours should avoid brightness that can be damaging to users' eyes.\\
  Fit Criterion: Brightness should not exceed 5000 lumens.
  \item[SFR3.] Untrained users should not need to interact with any electronic equipment to avoid potential injury.\\
  Fit Criterion: A user is considered to be appropriately trained when given clearance from Dr. Zurob or a lab supervisor.
\end{enumerate}

\subsection*{Security Requirements}
\begin{enumerate}
  \item[SCR1.] The interface shall prevent any modifications or injections of data from unauthorized users. 
  Fit Criterion: Unauthorized users are unable to make any modifications or injections in the data.
  \item[SCR2.] Only authorized users are allowed to modify concealed calculations, settings, and/or parameters. \\
  Fit Criterion: Unauthorized users are unable to modify concealed calculations, settings, and/or parameters.
\end{enumerate}

\subsection*{Hardware Requirements}
\begin{enumerate}
  \item[HWR1.] All hardware components must be properly set up and configured to perform their required functions. 
  \item[HWR2.] All hardware components must be functioning properly i.e. not faulty. \\
\end{enumerate} 

\subsection*{Software Requirements}
\begin{enumerate}
  \item[SWR1.] The App must be designed to be compatible with the operating system running on the control computer. The operating system used may be changed over the course of the project. 
  \item[SWR2.] The App must be able to identify and connect to the correct serial port so that it is able to receive data from the hardware. 
  \item[SWR3.]  The App must perform the resistivity calculations and any other required calculations using the correct formulae. \\
\end{enumerate}

\section{Roadmap}

As part of this project, the safety requirements that we will address
includes not using any colours and/or graphics that may cause harm or discomfort to the users
and that the application along with its equipment will be functional.
In addition, hardware-related requirements mentioned in the table above will be addressed up to the day of the final deliverable for the scope of this project.
Any other requirement may be included in the Proof of concept or the final deliverable 
which are on November 14, 2023, and March 20, 2023, respectively. \\

\noindent Certain requirements will not be included as part of the capstone timeline.
These requirements include ensuring that any future users will have sufficient training before interacting with the project
and that the app should not be modified by an unauthorized user. 
They should be implemented in the future by whoever oversees the use of this capstone.



% \wss{Which safety requirements will be implemented as part of the capstone timeline?
% Which requirements will be implemented in the future?}



\end{document}